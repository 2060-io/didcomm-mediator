diff --git a/node_modules/@credo-ts/core/build/agent/Agent.js b/node_modules/@credo-ts/core/build/agent/Agent.js
index d0a26e8..c80ba74 100644
--- a/node_modules/@credo-ts/core/build/agent/Agent.js
+++ b/node_modules/@credo-ts/core/build/agent/Agent.js
@@ -112,6 +112,7 @@ class Agent extends BaseAgent_1.BaseAgent {
             .receiveMessage(e.payload.message, {
             connection: e.payload.connection,
             contextCorrelationId: e.payload.contextCorrelationId,
+            receivedAt: e.payload.receivedAt,
         })
             .catch((error) => {
             this.logger.error('Failed to process message', { error });
diff --git a/node_modules/@credo-ts/core/build/agent/Agent.js.map b/node_modules/@credo-ts/core/build/agent/Agent.js.map
index 4899ecb..51c0f0e 100644
--- a/node_modules/@credo-ts/core/build/agent/Agent.js.map
+++ b/node_modules/@credo-ts/core/build/agent/Agent.js.map
@@ -1 +1 @@
-{"version":3,"file":"Agent.js","sourceRoot":"","sources":["../../src/agent/Agent.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"Agent.js","sourceRoot":"","sources":["../../src/agent/Agent.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/node_modules/@credo-ts/core/build/agent/Dispatcher.js b/node_modules/@credo-ts/core/build/agent/Dispatcher.js
index 66d8a6b..c1cea4d 100644
--- a/node_modules/@credo-ts/core/build/agent/Dispatcher.js
+++ b/node_modules/@credo-ts/core/build/agent/Dispatcher.js
@@ -87,6 +87,7 @@ let Dispatcher = class Dispatcher {
             payload: {
                 message,
                 connection,
+                receivedAt: messageContext.receivedAt,
             },
         });
     }
diff --git a/node_modules/@credo-ts/core/build/agent/Dispatcher.js.map b/node_modules/@credo-ts/core/build/agent/Dispatcher.js.map
index cfab13a..af98bfa 100644
--- a/node_modules/@credo-ts/core/build/agent/Dispatcher.js.map
+++ b/node_modules/@credo-ts/core/build/agent/Dispatcher.js.map
@@ -1 +1 @@
-{"version":3,"file":"Dispatcher.js","sourceRoot":"","sources":["../../src/agent/Dispatcher.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"Dispatcher.js","sourceRoot":"","sources":["../../src/agent/Dispatcher.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;AAIA,4CAA+C;AAC/C,oDAAgD;AAEhD,wCAA+C;AAC/C,sDAAuD;AAEvD,qGAAiG;AACjG,iDAA6C;AAC7C,qCAA0C;AAC1C,qEAAiE;AACjE,mDAA+C;AAC/C,qCAAiD;AAEjD,IACM,UAAU,GADhB,MACM,UAAU;IAMd,YACE,aAA4B,EAC5B,YAA0B,EAC1B,sBAA8C,EACb,MAAc;QAE/C,IAAI,CAAC,aAAa,GAAG,aAAa,CAAA;QAClC,IAAI,CAAC,YAAY,GAAG,YAAY,CAAA;QAChC,IAAI,CAAC,sBAAsB,GAAG,sBAAsB,CAAA;QACpD,IAAI,CAAC,MAAM,GAAG,MAAM,CAAA;IACtB,CAAC;IAEM,KAAK,CAAC,QAAQ,CAAC,cAAqC;QACzD,MAAM,EAAE,YAAY,EAAE,UAAU,EAAE,SAAS,EAAE,YAAY,EAAE,OAAO,EAAE,GAAG,cAAc,CAAA;QACrF,MAAM,cAAc,GAAG,IAAI,CAAC,sBAAsB,CAAC,wBAAwB,CAAC,OAAO,CAAC,IAAI,CAAC,CAAA;QAEzF,IAAI,CAAC,cAAc,EAAE;YACnB,MAAM,IAAI,uBAAU,CAAC,gCAAgC,OAAO,CAAC,IAAI,SAAS,CAAC,CAAA;SAC5E;QAED,IAAI,eAA4D,CAAA;QAEhE,IAAI;YACF,eAAe,GAAG,MAAM,cAAc,CAAC,MAAM,CAAC,cAAc,CAAC,CAAA;SAC9D;QAAC,OAAO,KAAK,EAAE;YACd,MAAM,oBAAoB,GAAG,KAAK,CAAC,aAAa,CAAA;YAEhD,IAAI,oBAAoB,YAAY,2CAAoB,IAAI,cAAc,CAAC,UAAU,EAAE;gBACrF,MAAM,EAAE,WAAW,EAAE,wBAAwB,EAAE,GAAG,IAAA,8BAAgB,EAAC,oBAAoB,CAAC,IAAI,CAAC,CAAA;gBAC7F,MAAM,EAAE,WAAW,EAAE,kBAAkB,EAAE,GAAG,IAAA,8BAAgB,EAAC,cAAc,CAAC,OAAO,CAAC,IAAI,CAAC,CAAA;gBAEzF,4HAA4H;gBAC5H,uHAAuH;gBACvH,IAAI,kBAAkB,KAAK,wBAAwB,EAAE;oBACnD,oBAAoB,CAAC,SAAS,CAAC;wBAC7B,QAAQ,EAAE,OAAO,CAAC,QAAQ;qBAC3B,CAAC,CAAA;iBACH;qBAAM;oBACL,oBAAoB,CAAC,SAAS,CAAC;wBAC7B,cAAc,EAAE,OAAO,CAAC,EAAE;qBAC3B,CAAC,CAAA;iBACH;gBAED,eAAe,GAAG,IAAI,+BAAsB,CAAC,oBAAoB,EAAE;oBACjE,YAAY;oBACZ,UAAU,EAAE,cAAc,CAAC,UAAU;oBACrC,qBAAqB,EAAE,cAAc;iBACtC,CAAC,CAAA;aACH;iBAAM;gBACL,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,oCAAoC,OAAO,CAAC,IAAI,EAAE,EAAE;oBACpE,OAAO,EAAE,OAAO,CAAC,MAAM,EAAE;oBACzB,KAAK;oBACL,SAAS,EAAE,SAAS,aAAT,SAAS,uBAAT,SAAS,CAAE,WAAW;oBACjC,YAAY,EAAE,YAAY,aAAZ,YAAY,uBAAZ,YAAY,CAAE,WAAW;oBACvC,YAAY,EAAE,UAAU,aAAV,UAAU,uBAAV,UAAU,CAAE,EAAE;iBAC7B,CAAC,CAAA;gBAEF,MAAM,KAAK,CAAA;aACZ;SACF;QAED,IAAI,eAAe,EAAE;YACnB,0DAA0D;YAC1D,IAAI,CAAC,eAAe,CAAC,qBAAqB,EAAE;gBAC1C,eAAe,CAAC,qBAAqB,GAAG,cAAc,CAAA;aACvD;YAED,MAAM,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC,eAAe,CAAC,CAAA;SACtD;QACD,wDAAwD;QACxD,IAAI,CAAC,YAAY,CAAC,IAAI,CAA6B,YAAY,EAAE;YAC/D,IAAI,EAAE,wBAAe,CAAC,qBAAqB;YAC3C,OAAO,EAAE;gBACP,OAAO;gBACP,UAAU;gBACV,UAAU,EAAE,cAAc,CAAC,UAAU;aACtC;SACF,CAAC,CAAA;IACJ,CAAC;CACF,CAAA;AArFK,UAAU;IADf,IAAA,oBAAU,GAAE;IAWR,WAAA,IAAA,gBAAM,EAAC,4BAAgB,CAAC,MAAM,CAAC,CAAA;qCAHjB,6BAAa;QACd,2BAAY;QACF,+CAAsB;GAT5C,UAAU,CAqFf;AAEQ,gCAAU"}
\ No newline at end of file
diff --git a/node_modules/@credo-ts/core/build/agent/Events.d.ts b/node_modules/@credo-ts/core/build/agent/Events.d.ts
index 1df8984..24f2b78 100644
--- a/node_modules/@credo-ts/core/build/agent/Events.d.ts
+++ b/node_modules/@credo-ts/core/build/agent/Events.d.ts
@@ -22,6 +22,7 @@ export interface AgentMessageReceivedEvent extends BaseEvent {
         message: unknown;
         connection?: ConnectionRecord;
         contextCorrelationId?: string;
+        receivedAt?: Date;
     };
 }
 export interface AgentMessageProcessedEvent extends BaseEvent {
@@ -29,6 +30,7 @@ export interface AgentMessageProcessedEvent extends BaseEvent {
     payload: {
         message: AgentMessage;
         connection?: ConnectionRecord;
+        receivedAt?: Date;
     };
 }
 export interface AgentMessageSentEvent extends BaseEvent {
diff --git a/node_modules/@credo-ts/core/build/agent/MessageReceiver.d.ts b/node_modules/@credo-ts/core/build/agent/MessageReceiver.d.ts
index 80f3761..811b5ba 100644
--- a/node_modules/@credo-ts/core/build/agent/MessageReceiver.d.ts
+++ b/node_modules/@credo-ts/core/build/agent/MessageReceiver.d.ts
@@ -29,10 +29,11 @@ export declare class MessageReceiver {
      *
      * @param inboundMessage the message to receive and handle
      */
-    receiveMessage(inboundMessage: unknown, { session, connection, contextCorrelationId, }?: {
+    receiveMessage(inboundMessage: unknown, { session, connection, contextCorrelationId, receivedAt, }?: {
         session?: TransportSession;
         connection?: ConnectionRecord;
         contextCorrelationId?: string;
+        receivedAt?: Date;
     }): Promise<void>;
     private receivePlaintextMessage;
     private receiveEncryptedMessage;
@@ -59,4 +60,6 @@ export declare class MessageReceiver {
      * @param plaintextMessage received inbound message
      */
     private sendProblemReportMessage;
+    private isInCache;
+    private saveInCache;
 }
diff --git a/node_modules/@credo-ts/core/build/agent/MessageReceiver.js b/node_modules/@credo-ts/core/build/agent/MessageReceiver.js
index e74b6dd..6d4069a 100644
--- a/node_modules/@credo-ts/core/build/agent/MessageReceiver.js
+++ b/node_modules/@credo-ts/core/build/agent/MessageReceiver.js
@@ -15,6 +15,7 @@ Object.defineProperty(exports, "__esModule", { value: true });
 exports.MessageReceiver = void 0;
 const constants_1 = require("../constants");
 const error_1 = require("../error");
+const cache_1 = require("../modules/cache");
 const connections_1 = require("../modules/connections");
 const problem_reports_1 = require("../modules/problem-reports");
 const plugins_1 = require("../plugins");
@@ -56,7 +57,7 @@ let MessageReceiver = class MessageReceiver {
      *
      * @param inboundMessage the message to receive and handle
      */
-    async receiveMessage(inboundMessage, { session, connection, contextCorrelationId, } = {}) {
+    async receiveMessage(inboundMessage, { session, connection, contextCorrelationId, receivedAt, } = {}) {
         this.logger.debug(`Agent received message`);
         // Find agent context for the inbound message
         const agentContext = await this.agentContextProvider.getContextForInboundMessage(inboundMessage, {
@@ -64,10 +65,10 @@ let MessageReceiver = class MessageReceiver {
         });
         try {
             if (this.isEncryptedMessage(inboundMessage)) {
-                await this.receiveEncryptedMessage(agentContext, inboundMessage, session);
+                await this.receiveEncryptedMessage(agentContext, inboundMessage, session, receivedAt);
             }
             else if (this.isPlaintextMessage(inboundMessage)) {
-                await this.receivePlaintextMessage(agentContext, inboundMessage, connection);
+                await this.receivePlaintextMessage(agentContext, inboundMessage, connection, receivedAt);
             }
             else {
                 throw new error_1.CredoError('Unable to parse incoming message: unrecognized format');
@@ -78,14 +79,25 @@ let MessageReceiver = class MessageReceiver {
             await agentContext.endSession();
         }
     }
-    async receivePlaintextMessage(agentContext, plaintextMessage, connection) {
+    async receivePlaintextMessage(agentContext, plaintextMessage, connection, receivedAt) {
         const message = await this.transformAndValidate(agentContext, plaintextMessage);
-        const messageContext = new models_1.InboundMessageContext(message, { connection, agentContext });
+        if (await this.isInCache(agentContext, message.id)) {
+            this.logger.warn(`Received duplicated message with id '${message.id}'`, message);
+            return;
+        }
+        await this.saveInCache(agentContext, plaintextMessage);
+        const messageContext = new models_1.InboundMessageContext(message, { connection, agentContext, receivedAt });
         await this.dispatcher.dispatch(messageContext);
     }
-    async receiveEncryptedMessage(agentContext, encryptedMessage, session) {
+    async receiveEncryptedMessage(agentContext, encryptedMessage, session, receivedAt) {
         const decryptedMessage = await this.decryptMessage(agentContext, encryptedMessage);
         const { plaintextMessage, senderKey, recipientKey } = decryptedMessage;
+        // Ignore duplicated message
+        if (await this.isInCache(agentContext, plaintextMessage['@id'])) {
+            this.logger.warn(`Received duplicated message with id '${plaintextMessage['@id']}', recipient key ${recipientKey === null || recipientKey === void 0 ? void 0 : recipientKey.fingerprint} and sender key ${senderKey === null || senderKey === void 0 ? void 0 : senderKey.fingerprint}`, plaintextMessage);
+            return;
+        }
+        await this.saveInCache(agentContext, plaintextMessage);
         this.logger.info(`Received message with type '${plaintextMessage['@type']}', recipient key ${recipientKey === null || recipientKey === void 0 ? void 0 : recipientKey.fingerprint} and sender key ${senderKey === null || senderKey === void 0 ? void 0 : senderKey.fingerprint}`, plaintextMessage);
         const connection = await this.findConnectionByMessageKeys(agentContext, decryptedMessage);
         const message = await this.transformAndValidate(agentContext, plaintextMessage, connection);
@@ -97,6 +109,7 @@ let MessageReceiver = class MessageReceiver {
             senderKey,
             recipientKey,
             agentContext,
+            receivedAt,
         });
         // We want to save a session if there is a chance of returning outbound message via inbound transport.
         // That can happen when inbound message has `return_route` set to `all` or `thread`.
@@ -230,6 +243,17 @@ let MessageReceiver = class MessageReceiver {
             await this.messageSender.sendMessage(outboundMessageContext);
         }
     }
+    async isInCache(agentContext, messageId) {
+        const cache = agentContext.dependencyManager.resolve(cache_1.CacheModuleConfig).cache;
+        const cacheKey = `didcomm:receivedmessages:${messageId}`;
+        const cachedMessage = await cache.get(agentContext, cacheKey);
+        return cachedMessage !== null;
+    }
+    async saveInCache(agentContext, message) {
+        const cache = agentContext.dependencyManager.resolve(cache_1.CacheModuleConfig).cache;
+        const cacheKey = `didcomm:receivedmessages:${message['@id']}`;
+        await cache.set(agentContext, cacheKey, {}, 300);
+    }
 };
 MessageReceiver = __decorate([
     (0, plugins_1.injectable)(),
diff --git a/node_modules/@credo-ts/core/build/agent/MessageReceiver.js.map b/node_modules/@credo-ts/core/build/agent/MessageReceiver.js.map
index 6fd94b7..02fd094 100644
--- a/node_modules/@credo-ts/core/build/agent/MessageReceiver.js.map
+++ b/node_modules/@credo-ts/core/build/agent/MessageReceiver.js.map
@@ -1 +1 @@
-{"version":3,"file":"MessageReceiver.js","sourceRoot":"","sources":["../../src/agent/MessageReceiver.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;AAQA,4CAA+C;AAC/C,oCAAqC;AAErC,wDAA0D;AAC1D,gEAA0G;AAC1G,wCAA+C;AAC/C,sCAAkD;AAClD,8DAA0D;AAC1D,sDAAiH;AAEjH,6CAAyC;AACzC,uDAAmD;AACnD,qEAAiE;AACjE,mDAA+C;AAC/C,yDAAqD;AAErD,qCAAwE;AAGjE,IAAM,eAAe,GAArB,MAAM,eAAe;IAW1B,YACE,eAAgC,EAChC,gBAAkC,EAClC,aAA4B,EAC5B,iBAAoC,EACpC,UAAsB,EACtB,sBAA8C,EACC,oBAA0C,EACxD,MAAc;QAVzC,uBAAkB,GAAuB,EAAE,CAAA;QAYjD,IAAI,CAAC,eAAe,GAAG,eAAe,CAAA;QACtC,IAAI,CAAC,gBAAgB,GAAG,gBAAgB,CAAA;QACxC,IAAI,CAAC,aAAa,GAAG,aAAa,CAAA;QAClC,IAAI,CAAC,iBAAiB,GAAG,iBAAiB,CAAA;QAC1C,IAAI,CAAC,UAAU,GAAG,UAAU,CAAA;QAC5B,IAAI,CAAC,sBAAsB,GAAG,sBAAsB,CAAA;QACpD,IAAI,CAAC,oBAAoB,GAAG,oBAAoB,CAAA;QAChD,IAAI,CAAC,MAAM,GAAG,MAAM,CAAA;QACpB,IAAI,CAAC,kBAAkB,GAAG,EAAE,CAAA;IAC9B,CAAC;IAED,IAAW,iBAAiB;QAC1B,OAAO,IAAI,CAAC,kBAAkB,CAAA;IAChC,CAAC;IAEM,wBAAwB,CAAC,gBAAkC;QAChE,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAA;IAChD,CAAC;IAEM,KAAK,CAAC,0BAA0B,CAAC,gBAAkC;QACxE,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,CAAC,SAAS,EAAE,EAAE,CAAC,SAAS,KAAK,gBAAgB,CAAC,CAAA;QACvG,MAAM,gBAAgB,CAAC,IAAI,EAAE,CAAA;IAC/B,CAAC;IAED;;;;;OAKG;IACI,KAAK,CAAC,cAAc,CACzB,cAAuB,EACvB,EACE,OAAO,EACP,UAAU,EACV,oBAAoB,MAC4E,EAAE;QAEpG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,wBAAwB,CAAC,CAAA;QAE3C,6CAA6C;QAC7C,MAAM,YAAY,GAAG,MAAM,IAAI,CAAC,oBAAoB,CAAC,2BAA2B,CAAC,cAAc,EAAE;YAC/F,oBAAoB;SACrB,CAAC,CAAA;QAEF,IAAI;YACF,IAAI,IAAI,CAAC,kBAAkB,CAAC,cAAc,CAAC,EAAE;gBAC3C,MAAM,IAAI,CAAC,uBAAuB,CAAC,YAAY,EAAE,cAAkC,EAAE,OAAO,CAAC,CAAA;aAC9F;iBAAM,IAAI,IAAI,CAAC,kBAAkB,CAAC,cAAc,CAAC,EAAE;gBAClD,MAAM,IAAI,CAAC,uBAAuB,CAAC,YAAY,EAAE,cAAc,EAAE,UAAU,CAAC,CAAA;aAC7E;iBAAM;gBACL,MAAM,IAAI,kBAAU,CAAC,uDAAuD,CAAC,CAAA;aAC9E;SACF;gBAAS;YACR,2EAA2E;YAC3E,MAAM,YAAY,CAAC,UAAU,EAAE,CAAA;SAChC;IACH,CAAC;IAEO,KAAK,CAAC,uBAAuB,CACnC,YAA0B,EAC1B,gBAAkC,EAClC,UAA6B;QAE7B,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,oBAAoB,CAAC,YAAY,EAAE,gBAAgB,CAAC,CAAA;QAC/E,MAAM,cAAc,GAAG,IAAI,8BAAqB,CAAC,OAAO,EAAE,EAAE,UAAU,EAAE,YAAY,EAAE,CAAC,CAAA;QACvF,MAAM,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,cAAc,CAAC,CAAA;IAChD,CAAC;IAEO,KAAK,CAAC,uBAAuB,CACnC,YAA0B,EAC1B,gBAAkC,EAClC,OAA0B;QAE1B,MAAM,gBAAgB,GAAG,MAAM,IAAI,CAAC,cAAc,CAAC,YAAY,EAAE,gBAAgB,CAAC,CAAA;QAClF,MAAM,EAAE,gBAAgB,EAAE,SAAS,EAAE,YAAY,EAAE,GAAG,gBAAgB,CAAA;QAEtE,IAAI,CAAC,MAAM,CAAC,IAAI,CACd,+BAA+B,gBAAgB,CAAC,OAAO,CAAC,oBAAoB,YAAY,aAAZ,YAAY,uBAAZ,YAAY,CAAE,WAAW,mBAAmB,SAAS,aAAT,SAAS,uBAAT,SAAS,CAAE,WAAW,EAAE,EAChJ,gBAAgB,CACjB,CAAA;QAED,MAAM,UAAU,GAAG,MAAM,IAAI,CAAC,2BAA2B,CAAC,YAAY,EAAE,gBAAgB,CAAC,CAAA;QAEzF,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,oBAAoB,CAAC,YAAY,EAAE,gBAAgB,EAAE,UAAU,CAAC,CAAA;QAE3F,MAAM,cAAc,GAAG,IAAI,8BAAqB,CAAC,OAAO,EAAE;YACxD,mFAAmF;YACnF,4FAA4F;YAC5F,4EAA4E;YAC5E,UAAU,EAAE,CAAA,UAAU,aAAV,UAAU,uBAAV,UAAU,CAAE,OAAO,EAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,SAAS;YACxD,SAAS;YACT,YAAY;YACZ,YAAY;SACb,CAAC,CAAA;QAEF,sGAAsG;QACtG,oFAAoF;QACpF,4HAA4H;QAC5H,IAAI,SAAS,IAAI,YAAY,IAAI,OAAO,CAAC,iBAAiB,EAAE,IAAI,OAAO,EAAE;YACvE,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,wCAAwC,OAAO,CAAC,EAAE,GAAG,CAAC,CAAA;YACxE,MAAM,IAAI,GAAG;gBACX,aAAa,EAAE,CAAC,SAAS,CAAC;gBAC1B,WAAW,EAAE,EAAE;gBACf,SAAS,EAAE,YAAY;aACxB,CAAA;YACD,OAAO,CAAC,IAAI,GAAG,IAAI,CAAA;YACnB,OAAO,CAAC,cAAc,GAAG,OAAO,CAAA;YAChC,sFAAsF;YACtF,6FAA6F;YAC7F,4DAA4D;YAC5D,OAAO,CAAC,YAAY,GAAG,UAAU,aAAV,UAAU,uBAAV,UAAU,CAAE,EAAE,CAAA;YACrC,cAAc,CAAC,SAAS,GAAG,OAAO,CAAC,EAAE,CAAA;YACrC,IAAI,CAAC,gBAAgB,CAAC,WAAW,CAAC,OAAO,CAAC,CAAA;SAC3C;aAAM,IAAI,OAAO,EAAE;YAClB,kGAAkG;YAClG,MAAM,OAAO,CAAC,KAAK,EAAE,CAAA;SACtB;QAED,MAAM,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,cAAc,CAAC,CAAA;IAChD,CAAC;IAED;;;;OAIG;IACK,KAAK,CAAC,cAAc,CAC1B,YAA0B,EAC1B,OAAyB;QAEzB,IAAI;YACF,OAAO,MAAM,IAAI,CAAC,eAAe,CAAC,aAAa,CAAC,YAAY,EAAE,OAAO,CAAC,CAAA;SACvE;QAAC,OAAO,KAAK,EAAE;YACd,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,gCAAgC,EAAE;gBAClD,KAAK;gBACL,gBAAgB,EAAE,OAAO;gBACzB,YAAY,EAAE,KAAK,YAAY,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,KAAK;aAC7D,CAAC,CAAA;YACF,MAAM,KAAK,CAAA;SACZ;IACH,CAAC;IAEO,kBAAkB,CAAC,OAAgB;QACzC,IAAI,OAAO,OAAO,KAAK,QAAQ,IAAI,OAAO,IAAI,IAAI,EAAE;YAClD,OAAO,KAAK,CAAA;SACb;QACD,kGAAkG;QAClG,OAAO,OAAO,IAAI,OAAO,CAAA;IAC3B,CAAC;IAEO,kBAAkB,CAAC,OAAgB;QACzC,uFAAuF;QACvF,OAAO,IAAA,yBAAmB,EAAC,OAAO,CAAC,CAAA;IACrC,CAAC;IAEO,KAAK,CAAC,oBAAoB,CAChC,YAA0B,EAC1B,gBAAkC,EAClC,UAAoC;QAEpC,IAAI,OAAqB,CAAA;QACzB,IAAI;YACF,OAAO,GAAG,MAAM,IAAI,CAAC,gBAAgB,CAAC,gBAAgB,CAAC,CAAA;SACxD;QAAC,OAAO,KAAK,EAAE;YACd,IAAI,UAAU;gBAAE,MAAM,IAAI,CAAC,wBAAwB,CAAC,YAAY,EAAE,KAAK,CAAC,OAAO,EAAE,UAAU,EAAE,gBAAgB,CAAC,CAAA;YAC9G,MAAM,KAAK,CAAA;SACZ;QACD,OAAO,OAAO,CAAA;IAChB,CAAC;IAEO,KAAK,CAAC,2BAA2B,CACvC,YAA0B,EAC1B,EAAE,YAAY,EAAE,SAAS,EAA2B;QAEpD,4DAA4D;QAC5D,IAAI,CAAC,YAAY,IAAI,CAAC,SAAS;YAAE,OAAO,IAAI,CAAA;QAE5C,uEAAuE;QACvE,OAAO,IAAI,CAAC,iBAAiB,CAAC,UAAU,CAAC,YAAY,EAAE;YACrD,SAAS;YACT,YAAY;SACb,CAAC,CAAA;IACJ,CAAC;IAED;;;;OAIG;IACK,KAAK,CAAC,gBAAgB,CAAC,OAAyB;QACtD,+FAA+F;QAC/F,IAAA,gDAAkC,EAAC,OAAO,CAAC,CAAA;QAE3C,MAAM,WAAW,GAAG,OAAO,CAAC,OAAO,CAAC,CAAA;QACpC,MAAM,YAAY,GAAG,IAAI,CAAC,sBAAsB,CAAC,6BAA6B,CAAC,WAAW,CAAC,CAAA;QAE3F,IAAI,CAAC,YAAY,EAAE;YACjB,MAAM,IAAI,oCAAkB,CAAC,4CAA4C,WAAW,GAAG,EAAE;gBACvF,WAAW,EAAE,qCAAmB,CAAC,mBAAmB;aACrD,CAAC,CAAA;SACH;QAED,wFAAwF;QACxF,IAAI,kBAAgC,CAAA;QACpC,IAAI;YACF,kBAAkB,GAAG,iCAAe,CAAC,QAAQ,CAAC,OAAO,EAAE,YAAY,CAAC,CAAA;SACrE;QAAC,OAAO,KAAK,EAAE;YACd,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,4BAA4B,OAAO,CAAC,IAAI,EAAE,EAAE;gBAC5D,MAAM,EAAE,KAAK;gBACb,OAAO,EAAE,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC;aACjC,CAAC,CAAA;YACF,MAAM,IAAI,oCAAkB,CAAC,4BAA4B,OAAO,CAAC,IAAI,EAAE,EAAE;gBACvE,WAAW,EAAE,qCAAmB,CAAC,mBAAmB;aACrD,CAAC,CAAA;SACH;QACD,OAAO,kBAAkB,CAAA;IAC3B,CAAC;IAED;;;;;OAKG;IACK,KAAK,CAAC,wBAAwB,CACpC,YAA0B,EAC1B,OAAe,EACf,UAA4B,EAC5B,gBAAkC;QAElC,MAAM,WAAW,GAAG,IAAA,8BAAgB,EAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC,CAAA;QAC/D,IAAI,IAAA,kCAAoB,EAAC,sCAAoB,EAAE,WAAW,CAAC,EAAE;YAC3D,MAAM,IAAI,kBAAU,CAAC,6DAA6D,OAAO,EAAE,CAAC,CAAA;SAC7F;QACD,MAAM,oBAAoB,GAAG,IAAI,sCAAoB,CAAC;YACpD,WAAW,EAAE;gBACX,EAAE,EAAE,OAAO;gBACX,IAAI,EAAE,qCAAmB,CAAC,mBAAmB;aAC9C;SACF,CAAC,CAAA;QACF,oBAAoB,CAAC,SAAS,CAAC;YAC7B,cAAc,EAAE,gBAAgB,CAAC,KAAK,CAAC;SACxC,CAAC,CAAA;QACF,MAAM,sBAAsB,GAAG,IAAI,+BAAsB,CAAC,oBAAoB,EAAE,EAAE,YAAY,EAAE,UAAU,EAAE,CAAC,CAAA;QAC7G,IAAI,sBAAsB,EAAE;YAC1B,MAAM,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC,sBAAsB,CAAC,CAAA;SAC7D;IACH,CAAC;CACF,CAAA;AA9QY,eAAe;IAD3B,IAAA,oBAAU,GAAE;IAmBR,WAAA,IAAA,gBAAM,EAAC,4BAAgB,CAAC,oBAAoB,CAAC,CAAA;IAC7C,WAAA,IAAA,gBAAM,EAAC,4BAAgB,CAAC,MAAM,CAAC,CAAA;qCAPf,iCAAe;QACd,mCAAgB;QACnB,6BAAa;QACT,+BAAiB;QACxB,uBAAU;QACE,+CAAsB;GAjBrC,eAAe,CA8Q3B;AA9QY,0CAAe"}
\ No newline at end of file
+{"version":3,"file":"MessageReceiver.js","sourceRoot":"","sources":["../../src/agent/MessageReceiver.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/node_modules/@credo-ts/core/build/agent/models/InboundMessageContext.d.ts b/node_modules/@credo-ts/core/build/agent/models/InboundMessageContext.d.ts
index 36f4c4b..5b0e3a3 100644
--- a/node_modules/@credo-ts/core/build/agent/models/InboundMessageContext.d.ts
+++ b/node_modules/@credo-ts/core/build/agent/models/InboundMessageContext.d.ts
@@ -8,6 +8,7 @@ export interface MessageContextParams {
     senderKey?: Key;
     recipientKey?: Key;
     agentContext: AgentContext;
+    receivedAt?: Date;
 }
 export declare class InboundMessageContext<T extends AgentMessage = AgentMessage> {
     message: T;
@@ -15,6 +16,7 @@ export declare class InboundMessageContext<T extends AgentMessage = AgentMessage
     sessionId?: string;
     senderKey?: Key;
     recipientKey?: Key;
+    receivedAt: Date;
     readonly agentContext: AgentContext;
     constructor(message: T, context: MessageContextParams);
     /**
diff --git a/node_modules/@credo-ts/core/build/agent/models/InboundMessageContext.js b/node_modules/@credo-ts/core/build/agent/models/InboundMessageContext.js
index a592252..ec84ea1 100644
--- a/node_modules/@credo-ts/core/build/agent/models/InboundMessageContext.js
+++ b/node_modules/@credo-ts/core/build/agent/models/InboundMessageContext.js
@@ -4,12 +4,14 @@ exports.InboundMessageContext = void 0;
 const error_1 = require("../../error");
 class InboundMessageContext {
     constructor(message, context) {
+        var _a;
         this.message = message;
         this.recipientKey = context.recipientKey;
         this.senderKey = context.senderKey;
         this.connection = context.connection;
         this.sessionId = context.sessionId;
         this.agentContext = context.agentContext;
+        this.receivedAt = (_a = context.receivedAt) !== null && _a !== void 0 ? _a : new Date();
     }
     /**
      * Assert the inbound message has a ready connection associated with it.
diff --git a/node_modules/@credo-ts/core/build/agent/models/InboundMessageContext.js.map b/node_modules/@credo-ts/core/build/agent/models/InboundMessageContext.js.map
index 44ba051..b984c9e 100644
--- a/node_modules/@credo-ts/core/build/agent/models/InboundMessageContext.js.map
+++ b/node_modules/@credo-ts/core/build/agent/models/InboundMessageContext.js.map
@@ -1 +1 @@
-{"version":3,"file":"InboundMessageContext.js","sourceRoot":"","sources":["../../../src/agent/models/InboundMessageContext.ts"],"names":[],"mappings":";;;AAKA,uCAAwC;AAUxC,MAAa,qBAAqB;IAQhC,YAAmB,OAAU,EAAE,OAA6B;QAC1D,IAAI,CAAC,OAAO,GAAG,OAAO,CAAA;QACtB,IAAI,CAAC,YAAY,GAAG,OAAO,CAAC,YAAY,CAAA;QACxC,IAAI,CAAC,SAAS,GAAG,OAAO,CAAC,SAAS,CAAA;QAClC,IAAI,CAAC,UAAU,GAAG,OAAO,CAAC,UAAU,CAAA;QACpC,IAAI,CAAC,SAAS,GAAG,OAAO,CAAC,SAAS,CAAA;QAClC,IAAI,CAAC,YAAY,GAAG,OAAO,CAAC,YAAY,CAAA;IAC1C,CAAC;IAED;;;;OAIG;IACI,qBAAqB;QAC1B,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE;YACpB,MAAM,IAAI,kBAAU,CAAC,kDAAkD,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC,CAAA;SAC5F;QAED,gCAAgC;QAChC,IAAI,CAAC,UAAU,CAAC,WAAW,EAAE,CAAA;QAE7B,OAAO,IAAI,CAAC,UAAU,CAAA;IACxB,CAAC;IAEM,MAAM;;QACX,OAAO;YACL,OAAO,EAAE,IAAI,CAAC,OAAO;YACrB,YAAY,EAAE,MAAA,IAAI,CAAC,YAAY,0CAAE,WAAW;YAC5C,SAAS,EAAE,MAAA,IAAI,CAAC,SAAS,0CAAE,WAAW;YACtC,SAAS,EAAE,IAAI,CAAC,SAAS;YACzB,YAAY,EAAE,IAAI,CAAC,YAAY,CAAC,MAAM,EAAE;SACzC,CAAA;IACH,CAAC;CACF;AA1CD,sDA0CC"}
\ No newline at end of file
+{"version":3,"file":"InboundMessageContext.js","sourceRoot":"","sources":["../../../src/agent/models/InboundMessageContext.ts"],"names":[],"mappings":";;;AAKA,uCAAwC;AAWxC,MAAa,qBAAqB;IAShC,YAAmB,OAAU,EAAE,OAA6B;;QAC1D,IAAI,CAAC,OAAO,GAAG,OAAO,CAAA;QACtB,IAAI,CAAC,YAAY,GAAG,OAAO,CAAC,YAAY,CAAA;QACxC,IAAI,CAAC,SAAS,GAAG,OAAO,CAAC,SAAS,CAAA;QAClC,IAAI,CAAC,UAAU,GAAG,OAAO,CAAC,UAAU,CAAA;QACpC,IAAI,CAAC,SAAS,GAAG,OAAO,CAAC,SAAS,CAAA;QAClC,IAAI,CAAC,YAAY,GAAG,OAAO,CAAC,YAAY,CAAA;QACxC,IAAI,CAAC,UAAU,GAAG,MAAA,OAAO,CAAC,UAAU,mCAAI,IAAI,IAAI,EAAE,CAAA;IACpD,CAAC;IAED;;;;OAIG;IACI,qBAAqB;QAC1B,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE;YACpB,MAAM,IAAI,kBAAU,CAAC,kDAAkD,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC,CAAA;SAC5F;QAED,gCAAgC;QAChC,IAAI,CAAC,UAAU,CAAC,WAAW,EAAE,CAAA;QAE7B,OAAO,IAAI,CAAC,UAAU,CAAA;IACxB,CAAC;IAEM,MAAM;;QACX,OAAO;YACL,OAAO,EAAE,IAAI,CAAC,OAAO;YACrB,YAAY,EAAE,MAAA,IAAI,CAAC,YAAY,0CAAE,WAAW;YAC5C,SAAS,EAAE,MAAA,IAAI,CAAC,SAAS,0CAAE,WAAW;YACtC,SAAS,EAAE,IAAI,CAAC,SAAS;YACzB,YAAY,EAAE,IAAI,CAAC,YAAY,CAAC,MAAM,EAAE;SACzC,CAAA;IACH,CAAC;CACF;AA5CD,sDA4CC"}
\ No newline at end of file
diff --git a/node_modules/@credo-ts/core/build/index.d.ts b/node_modules/@credo-ts/core/build/index.d.ts
index ac9af68..3eed881 100644
--- a/node_modules/@credo-ts/core/build/index.d.ts
+++ b/node_modules/@credo-ts/core/build/index.d.ts
@@ -49,7 +49,7 @@ export * from './modules/vc';
 export * from './modules/cache';
 export * from './modules/dif-presentation-exchange';
 export * from './modules/sd-jwt-vc';
-export { JsonEncoder, JsonTransformer, isJsonObject, isValidJweStructure, TypedArrayEncoder, Buffer, deepEquality, isDid, asArray, equalsIgnoreOrder, } from './utils';
+export { JsonEncoder, JsonTransformer, isJsonObject, isValidJweStructure, TypedArrayEncoder, Buffer, deepEquality, isDid, asArray, equalsIgnoreOrder, DateTransformer, } from './utils';
 export * from './logger';
 export * from './error';
 export * from './wallet/error';
diff --git a/node_modules/@credo-ts/core/build/index.js b/node_modules/@credo-ts/core/build/index.js
index 1f1c602..23bdf9b 100644
--- a/node_modules/@credo-ts/core/build/index.js
+++ b/node_modules/@credo-ts/core/build/index.js
@@ -14,7 +14,7 @@ var __exportStar = (this && this.__exportStar) || function(m, exports) {
     for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);
 };
 Object.defineProperty(exports, "__esModule", { value: true });
-exports.utils = exports.LinkedAttachment = exports.MessageValidator = exports.Hasher = exports.isLinkedAttachment = exports.encodeAttachment = exports.replaceLegacyDidSovPrefix = exports.IsValidMessageType = exports.parseMessageType = exports.equalsIgnoreOrder = exports.asArray = exports.isDid = exports.deepEquality = exports.Buffer = exports.TypedArrayEncoder = exports.isValidJweStructure = exports.isJsonObject = exports.JsonTransformer = exports.JsonEncoder = exports.ReturnRouteTypes = exports.ServiceDecorator = exports.AttachmentData = exports.Attachment = exports.TransportService = exports.InjectionSymbols = exports.joinUriParts = exports.getDirFromFilePath = exports.Repository = exports.DidCommMessageRepository = exports.DidCommMessageRole = exports.DidCommMessageRecord = exports.KeyDerivationMethod = exports.DidCommMimeType = exports.getOutboundMessageContext = exports.MessageSender = exports.Dispatcher = exports.AgentMessage = exports.AgentConfig = exports.MessageHandlerRegistry = exports.FeatureRegistry = exports.EventEmitter = exports.BaseAgent = exports.Agent = exports.MessageReceiver = void 0;
+exports.utils = exports.LinkedAttachment = exports.MessageValidator = exports.Hasher = exports.isLinkedAttachment = exports.encodeAttachment = exports.replaceLegacyDidSovPrefix = exports.IsValidMessageType = exports.parseMessageType = exports.DateTransformer = exports.equalsIgnoreOrder = exports.asArray = exports.isDid = exports.deepEquality = exports.Buffer = exports.TypedArrayEncoder = exports.isValidJweStructure = exports.isJsonObject = exports.JsonTransformer = exports.JsonEncoder = exports.ReturnRouteTypes = exports.ServiceDecorator = exports.AttachmentData = exports.Attachment = exports.TransportService = exports.InjectionSymbols = exports.joinUriParts = exports.getDirFromFilePath = exports.Repository = exports.DidCommMessageRepository = exports.DidCommMessageRole = exports.DidCommMessageRecord = exports.KeyDerivationMethod = exports.DidCommMimeType = exports.getOutboundMessageContext = exports.MessageSender = exports.Dispatcher = exports.AgentMessage = exports.AgentConfig = exports.MessageHandlerRegistry = exports.FeatureRegistry = exports.EventEmitter = exports.BaseAgent = exports.Agent = exports.MessageReceiver = void 0;
 // reflect-metadata used for class-transformer + class-validator
 require("reflect-metadata");
 var MessageReceiver_1 = require("./agent/MessageReceiver");
@@ -96,6 +96,7 @@ Object.defineProperty(exports, "deepEquality", { enumerable: true, get: function
 Object.defineProperty(exports, "isDid", { enumerable: true, get: function () { return utils_1.isDid; } });
 Object.defineProperty(exports, "asArray", { enumerable: true, get: function () { return utils_1.asArray; } });
 Object.defineProperty(exports, "equalsIgnoreOrder", { enumerable: true, get: function () { return utils_1.equalsIgnoreOrder; } });
+Object.defineProperty(exports, "DateTransformer", { enumerable: true, get: function () { return utils_1.DateTransformer; } });
 __exportStar(require("./logger"), exports);
 __exportStar(require("./error"), exports);
 __exportStar(require("./wallet/error"), exports);
diff --git a/node_modules/@credo-ts/core/build/index.js.map b/node_modules/@credo-ts/core/build/index.js.map
index 73423c2..9d1fb09 100644
--- a/node_modules/@credo-ts/core/build/index.js.map
+++ b/node_modules/@credo-ts/core/build/index.js.map
@@ -1 +1 @@
-{"version":3,"file":"index.js","sourceRoot":"","sources":["../src/index.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAA,gEAAgE;AAChE,4BAAyB;AAEzB,2DAAyD;AAAhD,kHAAA,eAAe,OAAA;AACxB,uCAAqC;AAA5B,8FAAA,KAAK,OAAA;AACd,+CAA6C;AAApC,sGAAA,SAAS,OAAA;AAClB,0CAAuB;AAEvB,qDAAmD;AAA1C,4GAAA,YAAY,OAAA;AACrB,2DAAyD;AAAhD,kHAAA,eAAe,OAAA;AAExB,yEAAuE;AAA9D,gIAAA,sBAAsB,OAAA;AAC/B,iDAA8B;AAC9B,mDAAiD;AAAxC,0GAAA,WAAW,OAAA;AACpB,qDAAmD;AAA1C,4GAAA,YAAY,OAAA;AACrB,iDAA+C;AAAtC,wGAAA,UAAU,OAAA;AACnB,uDAAqD;AAA5C,8GAAA,aAAa,OAAA;AAEtB,+EAA6E;AAApE,sIAAA,yBAAyB,OAAA;AAalC,iCAA8D;AAArD,wGAAA,eAAe,OAAA;AAAE,4GAAA,mBAAmB,OAAA;AAE7C,uDAAoC;AACpC,6CAAsG;AAA7F,+GAAA,oBAAoB,OAAA;AAAE,6GAAA,kBAAkB,OAAA;AAAE,mHAAA,wBAAwB,OAAA;AAC3E,mDAAiD;AAAxC,wGAAA,UAAU,OAAA;AACnB,6DAA0C;AAE1C,sDAAmC;AACnC,qCAA+D;AAAtD,0GAAA,kBAAkB,OAAA;AAAE,oGAAA,YAAY,OAAA;AACzC,yCAA8C;AAArC,6GAAA,gBAAgB,OAAA;AACzB,2CAAwB;AAExB,6DAA2D;AAAlD,oHAAA,gBAAgB,OAAA;AACzB,iEAA+E;AAAtE,wGAAA,UAAU,OAAA;AAAE,4GAAA,cAAc,OAAA;AACnC,0EAAiG;AAAxF,oHAAA,gBAAgB,OAAA;AACzB,gFAA4E;AAAnE,sHAAA,gBAAgB,OAAA;AAEzB,4CAAyB;AACzB,8CAA2B;AAC3B,2DAAwC;AACxC,mDAAgC;AAChC,wDAAqC;AACrC,8DAA2C;AAC3C,2DAAwC;AACxC,4DAAyC;AACzC,mDAAgC;AAChC,wDAAqC;AACrC,oDAAiC;AACjC,gDAA6B;AAC7B,iDAA8B;AAC9B,+CAA4B;AAC5B,kDAA+B;AAC/B,sEAAmD;AACnD,sDAAmC;AACnC,iCAWgB;AAVd,oGAAA,WAAW,OAAA;AACX,wGAAA,eAAe,OAAA;AACf,qGAAA,YAAY,OAAA;AACZ,4GAAA,mBAAmB,OAAA;AACnB,0GAAA,iBAAiB,OAAA;AACjB,+FAAA,MAAM,OAAA;AACN,qGAAA,YAAY,OAAA;AACZ,8FAAA,KAAK,OAAA;AACL,gGAAA,OAAO,OAAA;AACP,0GAAA,iBAAiB,OAAA;AAEnB,2CAAwB;AACxB,0CAAuB;AACvB,iDAA8B;AAE9B,mDAAqG;AAA5F,+GAAA,gBAAgB,OAAA;AAAE,iHAAA,kBAAkB,OAAA;AAAE,wHAAA,yBAAyB,OAAA;AAExE,iDAA8B;AAC9B,2CAAwB;AAExB,8BAA8B;AAC9B,iDAAyE;AAAhE,8GAAA,gBAAgB,OAAA;AAAE,gHAAA,kBAAkB,OAAA;AAE7C,yCAAiD;AAAxC,gGAAA,MAAM,OAAA;AACf,6DAA2D;AAAlD,oHAAA,gBAAgB,OAAA;AACzB,6DAAoF;AAA3E,oHAAA,gBAAgB,OAAA;AACzB,6DAA4D;AAC5D,uCAAgD;AAEhD,MAAM,KAAK,GAAG;IACZ,IAAI,EAAJ,WAAI;IACJ,WAAW,EAAX,kBAAW;IACX,kBAAkB,EAAlB,oCAAkB;CACnB,CAAA;AAEQ,sBAAK"}
\ No newline at end of file
+{"version":3,"file":"index.js","sourceRoot":"","sources":["../src/index.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAA,gEAAgE;AAChE,4BAAyB;AAEzB,2DAAyD;AAAhD,kHAAA,eAAe,OAAA;AACxB,uCAAqC;AAA5B,8FAAA,KAAK,OAAA;AACd,+CAA6C;AAApC,sGAAA,SAAS,OAAA;AAClB,0CAAuB;AAEvB,qDAAmD;AAA1C,4GAAA,YAAY,OAAA;AACrB,2DAAyD;AAAhD,kHAAA,eAAe,OAAA;AAExB,yEAAuE;AAA9D,gIAAA,sBAAsB,OAAA;AAC/B,iDAA8B;AAC9B,mDAAiD;AAAxC,0GAAA,WAAW,OAAA;AACpB,qDAAmD;AAA1C,4GAAA,YAAY,OAAA;AACrB,iDAA+C;AAAtC,wGAAA,UAAU,OAAA;AACnB,uDAAqD;AAA5C,8GAAA,aAAa,OAAA;AAEtB,+EAA6E;AAApE,sIAAA,yBAAyB,OAAA;AAalC,iCAA8D;AAArD,wGAAA,eAAe,OAAA;AAAE,4GAAA,mBAAmB,OAAA;AAE7C,uDAAoC;AACpC,6CAAsG;AAA7F,+GAAA,oBAAoB,OAAA;AAAE,6GAAA,kBAAkB,OAAA;AAAE,mHAAA,wBAAwB,OAAA;AAC3E,mDAAiD;AAAxC,wGAAA,UAAU,OAAA;AACnB,6DAA0C;AAE1C,sDAAmC;AACnC,qCAA+D;AAAtD,0GAAA,kBAAkB,OAAA;AAAE,oGAAA,YAAY,OAAA;AACzC,yCAA8C;AAArC,6GAAA,gBAAgB,OAAA;AACzB,2CAAwB;AAExB,6DAA2D;AAAlD,oHAAA,gBAAgB,OAAA;AACzB,iEAA+E;AAAtE,wGAAA,UAAU,OAAA;AAAE,4GAAA,cAAc,OAAA;AACnC,0EAAiG;AAAxF,oHAAA,gBAAgB,OAAA;AACzB,gFAA4E;AAAnE,sHAAA,gBAAgB,OAAA;AAEzB,4CAAyB;AACzB,8CAA2B;AAC3B,2DAAwC;AACxC,mDAAgC;AAChC,wDAAqC;AACrC,8DAA2C;AAC3C,2DAAwC;AACxC,4DAAyC;AACzC,mDAAgC;AAChC,wDAAqC;AACrC,oDAAiC;AACjC,gDAA6B;AAC7B,iDAA8B;AAC9B,+CAA4B;AAC5B,kDAA+B;AAC/B,sEAAmD;AACnD,sDAAmC;AACnC,iCAYgB;AAXd,oGAAA,WAAW,OAAA;AACX,wGAAA,eAAe,OAAA;AACf,qGAAA,YAAY,OAAA;AACZ,4GAAA,mBAAmB,OAAA;AACnB,0GAAA,iBAAiB,OAAA;AACjB,+FAAA,MAAM,OAAA;AACN,qGAAA,YAAY,OAAA;AACZ,8FAAA,KAAK,OAAA;AACL,gGAAA,OAAO,OAAA;AACP,0GAAA,iBAAiB,OAAA;AACjB,wGAAA,eAAe,OAAA;AAEjB,2CAAwB;AACxB,0CAAuB;AACvB,iDAA8B;AAE9B,mDAAqG;AAA5F,+GAAA,gBAAgB,OAAA;AAAE,iHAAA,kBAAkB,OAAA;AAAE,wHAAA,yBAAyB,OAAA;AAExE,iDAA8B;AAC9B,2CAAwB;AAExB,8BAA8B;AAC9B,iDAAyE;AAAhE,8GAAA,gBAAgB,OAAA;AAAE,gHAAA,kBAAkB,OAAA;AAE7C,yCAAiD;AAAxC,gGAAA,MAAM,OAAA;AACf,6DAA2D;AAAlD,oHAAA,gBAAgB,OAAA;AACzB,6DAAoF;AAA3E,oHAAA,gBAAgB,OAAA;AACzB,6DAA4D;AAC5D,uCAAgD;AAEhD,MAAM,KAAK,GAAG;IACZ,IAAI,EAAJ,WAAI;IACJ,WAAW,EAAX,kBAAW;IACX,kBAAkB,EAAlB,oCAAkB;CACnB,CAAA;AAEQ,sBAAK"}
\ No newline at end of file
diff --git a/node_modules/@credo-ts/core/build/modules/discover-features/DiscoverFeaturesApi.js b/node_modules/@credo-ts/core/build/modules/discover-features/DiscoverFeaturesApi.js
index 30c0253..f91977c 100644
--- a/node_modules/@credo-ts/core/build/modules/discover-features/DiscoverFeaturesApi.js
+++ b/node_modules/@credo-ts/core/build/modules/discover-features/DiscoverFeaturesApi.js
@@ -77,6 +77,8 @@ let DiscoverFeaturesApi = class DiscoverFeaturesApi {
             (0, operators_1.filter)((e) => { var _a; return ((_a = e.payload.connection) === null || _a === void 0 ? void 0 : _a.id) === connection.id; }), 
             // Return disclosures
             (0, operators_1.map)((e) => e.payload.disclosures), 
+            // Only wait for first event that matches the criteria
+            (0, operators_1.first)(), 
             // If we don't have an answer in timeoutMs miliseconds (no response, not supported, etc...) error
             (0, operators_1.timeout)({
                 first: (_a = options.awaitDisclosuresTimeoutMs) !== null && _a !== void 0 ? _a : 7000,
diff --git a/node_modules/@credo-ts/core/build/modules/discover-features/DiscoverFeaturesApi.js.map b/node_modules/@credo-ts/core/build/modules/discover-features/DiscoverFeaturesApi.js.map
index 3abc40f..85566a1 100644
--- a/node_modules/@credo-ts/core/build/modules/discover-features/DiscoverFeaturesApi.js.map
+++ b/node_modules/@credo-ts/core/build/modules/discover-features/DiscoverFeaturesApi.js.map
@@ -1 +1 @@
-{"version":3,"file":"DiscoverFeaturesApi.js","sourceRoot":"","sources":["../../../src/modules/discover-features/DiscoverFeaturesApi.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"DiscoverFeaturesApi.js","sourceRoot":"","sources":["../../../src/modules/discover-features/DiscoverFeaturesApi.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/node_modules/@credo-ts/core/build/modules/message-pickup/MessagePickupApi.js b/node_modules/@credo-ts/core/build/modules/message-pickup/MessagePickupApi.js
index 59ddcc1..2cd281d 100644
--- a/node_modules/@credo-ts/core/build/modules/message-pickup/MessagePickupApi.js
+++ b/node_modules/@credo-ts/core/build/modules/message-pickup/MessagePickupApi.js
@@ -149,7 +149,6 @@ let MessagePickupApi = class MessagePickupApi {
         });
         const replaySubject = new rxjs_1.ReplaySubject(1);
         if (options.awaitCompletion) {
-            // Listen for response to our feature query
             this.eventEmitter
                 .observable(MessagePickupEvents_1.MessagePickupEventTypes.MessagePickupCompleted)
                 .pipe(
@@ -157,6 +156,8 @@ let MessagePickupApi = class MessagePickupApi {
             (0, rxjs_1.takeUntil)(this.stop$), 
             // filter by connection id
             (0, rxjs_1.filter)((e) => e.payload.connection.id === connectionRecord.id), 
+            // Only wait for first event that matches the criteria
+            (0, rxjs_1.first)(), 
             // If we don't receive all messages within timeoutMs miliseconds (no response, not supported, etc...) error
             (0, rxjs_1.timeout)({
                 first: (_a = options.awaitCompletionTimeoutMs) !== null && _a !== void 0 ? _a : 10000,
diff --git a/node_modules/@credo-ts/core/build/modules/message-pickup/MessagePickupApi.js.map b/node_modules/@credo-ts/core/build/modules/message-pickup/MessagePickupApi.js.map
index 49b4ea2..dc60967 100644
--- a/node_modules/@credo-ts/core/build/modules/message-pickup/MessagePickupApi.js.map
+++ b/node_modules/@credo-ts/core/build/modules/message-pickup/MessagePickupApi.js.map
@@ -1 +1 @@
-{"version":3,"file":"MessagePickupApi.js","sourceRoot":"","sources":["../../../src/modules/message-pickup/MessagePickupApi.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"MessagePickupApi.js","sourceRoot":"","sources":["../../../src/modules/message-pickup/MessagePickupApi.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/node_modules/@credo-ts/core/build/modules/message-pickup/protocol/v2/V2MessagePickupProtocol.js b/node_modules/@credo-ts/core/build/modules/message-pickup/protocol/v2/V2MessagePickupProtocol.js
index 7b30478..ef714ce 100644
--- a/node_modules/@credo-ts/core/build/modules/message-pickup/protocol/v2/V2MessagePickupProtocol.js
+++ b/node_modules/@credo-ts/core/build/modules/message-pickup/protocol/v2/V2MessagePickupProtocol.js
@@ -71,6 +71,7 @@ let V2MessagePickupProtocol = class V2MessagePickupProtocol extends BaseMessageP
         }
         const attachments = messagesToDeliver.map((msg) => new Attachment_1.Attachment({
             id: msg.id,
+            lastmodTime: msg.receivedAt,
             data: {
                 json: msg.encryptedMessage,
             },
@@ -122,6 +123,7 @@ let V2MessagePickupProtocol = class V2MessagePickupProtocol extends BaseMessageP
         });
         const attachments = messages.map((msg) => new Attachment_1.Attachment({
             id: msg.id,
+            lastmodTime: msg.receivedAt,
             data: {
                 json: msg.encryptedMessage,
             },
@@ -222,6 +224,7 @@ let V2MessagePickupProtocol = class V2MessagePickupProtocol extends BaseMessageP
                 payload: {
                     message: attachment.getDataAsJson(),
                     contextCorrelationId: messageContext.agentContext.contextCorrelationId,
+                    receivedAt: attachment.lastmodTime,
                 },
             });
         }
diff --git a/node_modules/@credo-ts/core/build/modules/message-pickup/protocol/v2/V2MessagePickupProtocol.js.map b/node_modules/@credo-ts/core/build/modules/message-pickup/protocol/v2/V2MessagePickupProtocol.js.map
index cf7825b..9b36c9b 100644
--- a/node_modules/@credo-ts/core/build/modules/message-pickup/protocol/v2/V2MessagePickupProtocol.js.map
+++ b/node_modules/@credo-ts/core/build/modules/message-pickup/protocol/v2/V2MessagePickupProtocol.js.map
@@ -1 +1 @@
-{"version":3,"file":"V2MessagePickupProtocol.js","sourceRoot":"","sources":["../../../../../src/modules/message-pickup/protocol/v2/V2MessagePickupProtocol.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"V2MessagePickupProtocol.js","sourceRoot":"","sources":["../../../../../src/modules/message-pickup/protocol/v2/V2MessagePickupProtocol.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/node_modules/@credo-ts/core/build/modules/message-pickup/storage/QueuedMessage.d.ts b/node_modules/@credo-ts/core/build/modules/message-pickup/storage/QueuedMessage.d.ts
index 4eddcb4..e2cff56 100644
--- a/node_modules/@credo-ts/core/build/modules/message-pickup/storage/QueuedMessage.d.ts
+++ b/node_modules/@credo-ts/core/build/modules/message-pickup/storage/QueuedMessage.d.ts
@@ -1,5 +1,12 @@
 import type { EncryptedMessage } from '../../../types';
+/**
+ * Basic representation of an encrypted message in a Message Pickup Queue
+ * - id: Message Pickup repository's specific queued message id (unrelated to DIDComm message id)
+ * - receivedAt: reception time (i.e. time when the message has been added to the queue)
+ * - encryptedMessage: packed message
+ */
 export type QueuedMessage = {
     id: string;
+    receivedAt?: Date;
     encryptedMessage: EncryptedMessage;
 };
diff --git a/node_modules/@credo-ts/core/build/utils/index.d.ts b/node_modules/@credo-ts/core/build/utils/index.d.ts
index 84df116..89512fe 100644
--- a/node_modules/@credo-ts/core/build/utils/index.d.ts
+++ b/node_modules/@credo-ts/core/build/utils/index.d.ts
@@ -14,3 +14,4 @@ export * from './objectEquality';
 export * from './MessageValidator';
 export * from './did';
 export * from './array';
+export { DateTransformer } from './transformers';
diff --git a/node_modules/@credo-ts/core/build/utils/index.js b/node_modules/@credo-ts/core/build/utils/index.js
index ccb34d0..a3d3898 100644
--- a/node_modules/@credo-ts/core/build/utils/index.js
+++ b/node_modules/@credo-ts/core/build/utils/index.js
@@ -14,6 +14,7 @@ var __exportStar = (this && this.__exportStar) || function(m, exports) {
     for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);
 };
 Object.defineProperty(exports, "__esModule", { value: true });
+exports.DateTransformer = void 0;
 __exportStar(require("./TypedArrayEncoder"), exports);
 __exportStar(require("./JsonEncoder"), exports);
 __exportStar(require("./JsonTransformer"), exports);
@@ -30,4 +31,6 @@ __exportStar(require("./objectEquality"), exports);
 __exportStar(require("./MessageValidator"), exports);
 __exportStar(require("./did"), exports);
 __exportStar(require("./array"), exports);
+var transformers_1 = require("./transformers");
+Object.defineProperty(exports, "DateTransformer", { enumerable: true, get: function () { return transformers_1.DateTransformer; } });
 //# sourceMappingURL=index.js.map
\ No newline at end of file
diff --git a/node_modules/@credo-ts/core/build/utils/index.js.map b/node_modules/@credo-ts/core/build/utils/index.js.map
index a8eb002..2dfb9ac 100644
--- a/node_modules/@credo-ts/core/build/utils/index.js.map
+++ b/node_modules/@credo-ts/core/build/utils/index.js.map
@@ -1 +1 @@
-{"version":3,"file":"index.js","sourceRoot":"","sources":["../../src/utils/index.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAAA,sDAAmC;AACnC,gDAA6B;AAC7B,oDAAiC;AACjC,qDAAkC;AAClC,2CAAwB;AACxB,qDAAkC;AAClC,wCAAqB;AACrB,kDAA+B;AAC/B,2CAAwB;AACxB,+CAA4B;AAC5B,yCAAsB;AACtB,iDAA8B;AAC9B,mDAAgC;AAChC,qDAAkC;AAClC,wCAAqB;AACrB,0CAAuB"}
\ No newline at end of file
+{"version":3,"file":"index.js","sourceRoot":"","sources":["../../src/utils/index.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAA,sDAAmC;AACnC,gDAA6B;AAC7B,oDAAiC;AACjC,qDAAkC;AAClC,2CAAwB;AACxB,qDAAkC;AAClC,wCAAqB;AACrB,kDAA+B;AAC/B,2CAAwB;AACxB,+CAA4B;AAC5B,yCAAsB;AACtB,iDAA8B;AAC9B,mDAAgC;AAChC,qDAAkC;AAClC,wCAAqB;AACrB,0CAAuB;AACvB,+CAAgD;AAAvC,+GAAA,eAAe,OAAA"}
\ No newline at end of file
diff --git a/node_modules/@credo-ts/core/build/utils/transformers.js b/node_modules/@credo-ts/core/build/utils/transformers.js
index 261a8f8..ffcb3b8 100644
--- a/node_modules/@credo-ts/core/build/utils/transformers.js
+++ b/node_modules/@credo-ts/core/build/utils/transformers.js
@@ -27,6 +27,8 @@ exports.MetadataTransformer = MetadataTransformer;
  */
 function DateTransformer() {
     return (0, class_transformer_1.Transform)(({ value, type }) => {
+        if (value === undefined)
+            return undefined;
         if (type === class_transformer_1.TransformationType.CLASS_TO_PLAIN) {
             return value.toISOString();
         }
diff --git a/node_modules/@credo-ts/core/build/utils/transformers.js.map b/node_modules/@credo-ts/core/build/utils/transformers.js.map
index b276e33..a6c5a6a 100644
--- a/node_modules/@credo-ts/core/build/utils/transformers.js.map
+++ b/node_modules/@credo-ts/core/build/utils/transformers.js.map
@@ -1 +1 @@
-{"version":3,"file":"transformers.js","sourceRoot":"","sources":["../../src/utils/transformers.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"transformers.js","sourceRoot":"","sources":["../../src/utils/transformers.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
